# 06 - æ•…éšœæ’é™¤æŒ‡å—

æœ¬æ–‡æ¡£è®°å½•äº†å¸¸è§é—®é¢˜çš„è¯Šæ–­å’Œè§£å†³æ–¹æ³•ï¼ŒåŸºäºå®é™…éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚

## EventListeneréƒ¨ç½²é—®é¢˜

### é—®é¢˜1ï¼šEventListener Pod CrashLoopBackOff

**ç°è±¡:**
```bash
kubectl get pods -l eventlistener=github-listener -n default
NAME                                  READY   STATUS             RESTARTS      AGE
el-github-listener-799ddc84dd-2l5q5   0/1     CrashLoopBackOff   7 (41s ago)   8m12s
```

**è¯Šæ–­æ­¥éª¤:**

1. **æŸ¥çœ‹PodçŠ¶æ€**
```bash
kubectl get eventlistener --all-namespaces
# EventListeneré€šå¸¸éƒ¨ç½²åœ¨tekton-pipelines namespace
kubectl get pods -l eventlistener=github-listener -n tekton-pipelines
```

2. **æŸ¥çœ‹Podæ—¥å¿—**
```bash
kubectl logs el-github-listener-xxx-xxx -n tekton-pipelines
```

**å¸¸è§é”™è¯¯æ—¥å¿—:**
```
clusterinterceptors.triggers.tekton.dev is forbidden: 
User "system:serviceaccount:default:tekton-triggers-sa" cannot list resource "clusterinterceptors"
```

**æ ¹æœ¬åŸå› :** ServiceAccountæƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®Tekton Triggersèµ„æºã€‚

**è§£å†³æ–¹æ¡ˆ:**

1. **æ£€æŸ¥ç°æœ‰ClusterRole**
```bash
kubectl get clusterrole | grep tekton
kubectl describe clusterrole tekton-triggers-eventlistener-clusterroles
```

2. **æ›´æ–°RBACé…ç½®** ä½¿ç”¨Tektonæä¾›çš„é¢„å®šä¹‰ClusterRoleï¼š
```yaml
# ä½¿ç”¨é¢„å®šä¹‰çš„ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: tekton-triggers-eventlistener-binding
subjects:
  - kind: ServiceAccount
    name: tekton-triggers-sa
    namespace: default
roleRef:
  kind: ClusterRole
  name: tekton-triggers-eventlistener-clusterroles
  apiGroup: rbac.authorization.k8s.io
```

3. **é‡æ–°åº”ç”¨é…ç½®**
```bash
# åˆ é™¤æœ‰é—®é¢˜çš„èµ„æº
kubectl delete eventlistener github-listener -n default
kubectl delete clusterrolebinding tekton-triggers-binding 2>/dev/null || true

# é‡æ–°åº”ç”¨RBAC
kubectl apply -f .tekton/infrastructure/rbac.yaml

# é‡æ–°éƒ¨ç½²EventListener
kubectl apply -f .tekton/infrastructure/eventlistener.yaml
```

### é—®é¢˜2ï¼šEventListenerç­‰å¾…ClusterInterceptor CAè¯ä¹¦

**ç°è±¡:**
```bash
kubectl logs el-github-listener-xxx -n tekton-pipelines
```

**é”™è¯¯æ—¥å¿—:**
```
Timed out waiting on CaBundle to available for clusterInterceptor: 
empty caBundle in clusterInterceptor spec
```

**æ ¹æœ¬åŸå› :** ç¼ºå°‘Tekton Core Interceptorsç»„ä»¶ã€‚

**è§£å†³æ–¹æ¡ˆ:**

1. **æ£€æŸ¥ClusterInterceptoræ˜¯å¦å­˜åœ¨**
```bash
kubectl get clusterinterceptor
```

2. **å¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œå®‰è£…Core Interceptors**
```bash
kubectl apply --filename https://storage.googleapis.com/tekton-releases/triggers/latest/interceptors.yaml
```

3. **éªŒè¯å®‰è£…**
```bash
kubectl get pods -n tekton-pipelines | grep interceptor
kubectl get clusterinterceptor
```

4. **ç­‰å¾…Core Interceptorså°±ç»ª**
```bash
kubectl wait --for=condition=Ready pod -l app=tekton-triggers-core-interceptors -n tekton-pipelines --timeout=60s
```

5. **EventListenerä¼šè‡ªåŠ¨é‡å¯å¹¶æ¢å¤æ­£å¸¸**

## æƒé™è°ƒè¯•

### æ£€æŸ¥ServiceAccountæƒé™

```bash
# æ£€æŸ¥ServiceAccountæ˜¯å¦å­˜åœ¨
kubectl get serviceaccount tekton-triggers-sa -n default

# æ£€æŸ¥ClusterRoleBinding
kubectl get clusterrolebinding | grep tekton-triggers

# æµ‹è¯•æƒé™
kubectl auth can-i list clusterinterceptors --as=system:serviceaccount:default:tekton-triggers-sa
kubectl auth can-i list triggerbindings --as=system:serviceaccount:default:tekton-triggers-sa -n default
kubectl auth can-i create pipelineruns --as=system:serviceaccount:default:tekton-triggers-sa -n default
```

### éªŒè¯Tektonç»„ä»¶çŠ¶æ€

```bash
# æ£€æŸ¥æ‰€æœ‰Tektonç»„ä»¶
kubectl get pods -n tekton-pipelines
kubectl get pods -n tekton-pipelines-resolvers

# æ£€æŸ¥Triggersç»„ä»¶
kubectl get pods -n tekton-pipelines | grep trigger
```

## ç½‘ç»œè¿é€šæ€§é—®é¢˜

### EventListeneræœåŠ¡æ£€æŸ¥

```bash
# æ£€æŸ¥Serviceåˆ›å»ºï¼ˆæ³¨æ„namespaceï¼‰
kubectl get svc el-github-listener -n tekton-pipelines

# æ£€æŸ¥Serviceç«¯ç‚¹
kubectl get endpoints el-github-listener -n tekton-pipelines

# è·å–Serviceè¯¦æƒ…å’ŒClusterIP
kubectl get svc el-github-listener -n tekton-pipelines -o wide
kubectl describe svc el-github-listener -n tekton-pipelines
```

### æµ‹è¯•å†…ç½‘è¿é€šæ€§

**ä»k8sé›†ç¾¤å†…æµ‹è¯•:**
```bash
# è·å–Service IP
SERVICE_IP=$(kubectl get svc el-github-listener -n default -o jsonpath='{.spec.clusterIP}')
echo "EventListener Service IP: $SERVICE_IP"

# æµ‹è¯•HTTPè¿æ¥
curl -v -X POST http://$SERVICE_IP:8080 \
  -H "Content-Type: application/json" \
  -H "X-GitHub-Event: ping" \
  -d '{"zen": "test connectivity"}'
```

**ä»Runneræœºå™¨æµ‹è¯•:**

1. **æµ‹è¯•DNSè§£æ**
```bash
# æµ‹è¯•é›†ç¾¤å†…DNSè§£æ
nslookup el-github-listener.tekton-pipelines.svc.cluster.local

# å¦‚æœDNSè§£æå¤±è´¥ï¼Œè¿™æ˜¯å¸¸è§é—®é¢˜
```

2. **DNSè§£æå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ**

**æ–¹æ¡ˆ1ï¼šä½¿ç”¨ClusterIPï¼ˆæ¨èï¼‰**
```bash
# åœ¨k8sç¯å¢ƒä¸­è·å–ClusterIP
kubectl get svc el-github-listener -n tekton-pipelines -o jsonpath='{.spec.clusterIP}'

# ç¤ºä¾‹è¾“å‡º: 10.109.72.223
# åœ¨Runneræœºå™¨ä¸Šä½¿ç”¨ClusterIPæµ‹è¯•
curl -v http://10.109.72.223:8080 \
  -H "Content-Type: application/json" \
  -H "X-GitHub-Event: ping" \
  -d '{"zen": "test from runner"}'
```

**æ–¹æ¡ˆ2ï¼šé…ç½®DNSè§£æ**
```bash
# æ£€æŸ¥Runneræœºå™¨çš„DNSé…ç½®
cat /etc/resolv.conf

# æ£€æŸ¥æ˜¯å¦èƒ½è§£ækubernetes service
nslookup kubernetes.default.svc.cluster.local

# å¦‚æœéƒ½å¤±è´¥ï¼Œè¯´æ˜Runneræœºå™¨æ²¡æœ‰æ­£ç¡®é…ç½®é›†ç¾¤DNSè®¿é—®
```

**æ–¹æ¡ˆ3ï¼šéªŒè¯ç½‘ç»œè¿é€šæ€§**
```bash
# æµ‹è¯•åˆ°é›†ç¾¤èŠ‚ç‚¹çš„ç½‘ç»œè¿é€šæ€§
ping 10.117.3.193

# æµ‹è¯•åˆ°ClusterIPçš„ç½‘ç»œè¿é€šæ€§
ping 10.109.72.223

# å¦‚æœpingå¤±è´¥ï¼Œæ£€æŸ¥ç½‘ç»œè·¯ç”±å’Œé˜²ç«å¢™é…ç½®
```

## Pipelineæ‰§è¡Œé—®é¢˜

### Taskå’ŒPipelineä¸å­˜åœ¨

**ç°è±¡:** EventListeneræ¥æ”¶åˆ°è¯·æ±‚ä½†æ— æ³•åˆ›å»ºPipelineRun
```
failed to create PipelineRun: pipelines.tekton.dev "pytest-pipeline" not found
```

**è§£å†³æ–¹æ¡ˆ:**
```bash
# ç¡®ä¿Pipelineå®šä¹‰å·²åº”ç”¨
kubectl apply -f .tekton/pipelines/task-pytest.yaml
kubectl apply -f .tekton/pipelines/pipeline.yaml

# éªŒè¯èµ„æºå­˜åœ¨
kubectl get task pytest-task -n default
kubectl get pipeline pytest-pipeline -n default
```

### PipelineRunæ‰§è¡Œå¤±è´¥

```bash
# æŸ¥çœ‹PipelineRunçŠ¶æ€
kubectl get pipelineruns -n default

# æŸ¥çœ‹å…·ä½“PipelineRunè¯¦æƒ…
kubectl describe pipelinerun <pipelinerun-name> -n default

# æŸ¥çœ‹TaskRunæ—¥å¿—
kubectl get taskruns -n default
kubectl logs <taskrun-pod-name> -n default
```

## GitHub Actionsé—®é¢˜

### Runnerè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥RunneræœåŠ¡çŠ¶æ€
sudo systemctl status actions.runner.*

# æŸ¥çœ‹Runneræ—¥å¿—
sudo journalctl -u actions.runner.* -f

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping <k8s-cluster-ip>
telnet <k8s-cluster-ip> 6443
```

### kubectlè®¿é—®é—®é¢˜

```bash
# éªŒè¯kubectlé…ç½®
kubectl config current-context
kubectl config view

# æµ‹è¯•é›†ç¾¤è¿æ¥
kubectl get nodes
kubectl version
```

## Dashboardè®¿é—®é—®é¢˜

### Ingressé…ç½®æ£€æŸ¥

```bash
# æ£€æŸ¥IngressçŠ¶æ€
kubectl get ingress -n tekton-pipelines
kubectl describe ingress tekton-dashboard -n tekton-pipelines

# æ£€æŸ¥Service
kubectl get svc tekton-dashboard -n tekton-pipelines

# æµ‹è¯•DashboardæœåŠ¡
kubectl port-forward svc/tekton-dashboard 9097:9097 -n tekton-pipelines
# ç„¶åè®¿é—® http://localhost:9097
```

## å¸¸ç”¨è°ƒè¯•å‘½ä»¤

### èµ„æºçŠ¶æ€æ£€æŸ¥
```bash
# å®Œæ•´çš„ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
kubectl get eventlistener,triggerbinding,triggertemplate -n default
kubectl get task,pipeline,pipelinerun -n default
kubectl get pods --all-namespaces | grep -E "(tekton|github)"
```

### æ—¥å¿—æ”¶é›†
```bash
# EventListeneræ—¥å¿—
kubectl logs -l eventlistener=github-listener -n default --tail=100

# Tekton Controlleræ—¥å¿—
kubectl logs -l app=tekton-pipelines-controller -n tekton-pipelines --tail=50

# Triggers Controlleræ—¥å¿—
kubectl logs -l app=tekton-triggers-controller -n tekton-pipelines --tail=50
```

### äº‹ä»¶æŸ¥çœ‹
```bash
# æŸ¥çœ‹ç›¸å…³äº‹ä»¶
kubectl get events -n default --sort-by='.lastTimestamp'
kubectl get events -n tekton-pipelines --sort-by='.lastTimestamp'
```

## é¢„é˜²æªæ–½

1. **éƒ¨ç½²å‰æ£€æŸ¥**
   - ç¡®è®¤æ‰€æœ‰Tektonç»„ä»¶æ­£å¸¸è¿è¡Œ
   - éªŒè¯RBACæƒé™é…ç½®
   - æµ‹è¯•ç½‘ç»œè¿é€šæ€§

2. **ç›‘æ§è®¾ç½®**
   - è®¾ç½®EventListener PodçŠ¶æ€ç›‘æ§
   - é…ç½®PipelineRunå¤±è´¥å‘Šè­¦
   - ç›‘æ§Runnerè¿æ¥çŠ¶æ€

3. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - ç¡®ä¿Tektonç»„ä»¶ç‰ˆæœ¬å…¼å®¹
   - éªŒè¯kubectlå®¢æˆ·ç«¯ç‰ˆæœ¬
   - æ£€æŸ¥Kubernetesé›†ç¾¤ç‰ˆæœ¬æ”¯æŒ

## å¿«é€Ÿæ¢å¤æ¸…å•

é‡åˆ°é—®é¢˜æ—¶çš„å¿«é€Ÿæ¢å¤æ­¥éª¤ï¼š

1. **åˆ é™¤æœ‰é—®é¢˜çš„èµ„æº**
```bash
kubectl delete eventlistener github-listener -n default
kubectl delete clusterrolebinding tekton-triggers-eventlistener-binding
```

2. **é‡æ–°éƒ¨ç½²åŸºç¡€è®¾æ–½**
```bash
kubectl apply -f .tekton/infrastructure/rbac.yaml
kubectl apply -f .tekton/infrastructure/triggerbinding.yaml
kubectl apply -f .tekton/infrastructure/triggertemplate.yaml
kubectl apply -f .tekton/infrastructure/eventlistener.yaml
```

3. **éªŒè¯éƒ¨ç½²çŠ¶æ€**
```bash
kubectl wait --for=condition=Ready pod -l eventlistener=github-listener -n default --timeout=60s
```

4. **æµ‹è¯•è¿é€šæ€§**
```bash
curl -X POST http://el-github-listener.default.svc.cluster.local:8080 \
  -H "Content-Type: application/json" \
  -H "X-GitHub-Event: ping" \
  -d '{"zen": "recovery test"}'
```

## ç½‘ç»œè¿é€šæ€§é—®é¢˜

### é—®é¢˜ï¼šDNSè§£æå¤±è´¥

**ç°è±¡:**
```bash
curl: (6) Could not resolve host: el-github-listener.tekton-pipelines.svc.cluster.local
```

**è§£å†³æ–¹æ¡ˆ:**
ä½¿ç”¨ClusterIPæ›¿ä»£DNSåç§°ï¼š
```bash
CLUSTER_IP=$(kubectl get svc el-github-listener -n tekton-pipelines -o jsonpath='{.spec.clusterIP}')
curl -v http://$CLUSTER_IP:8080
```

### é—®é¢˜ï¼šClusterIPç½‘ç»œä¸å¯è¾¾ï¼ˆç”Ÿäº§ç¯å¢ƒå¸¸è§ï¼‰

**ç°è±¡:**
```bash
# âœ… èƒ½pingé€šé›†ç¾¤èŠ‚ç‚¹
ping 10.117.3.193  # æˆåŠŸ

# âŒ æ— æ³•è®¿é—®ClusterIPï¼ˆ100% packet lossï¼‰
ping 10.109.72.223  # å¤±è´¥
curl: (7) Failed to connect to 10.109.72.223 port 8080: Connection timeout
```

**æ ¹æœ¬åŸå› :** 
Runneræœºå™¨æ— æ³•ç›´æ¥è·¯ç”±åˆ°Kubernetes Service CIDRç½‘æ®µï¼ˆ10.96.0.0/12ï¼‰ã€‚

**è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨NodePort Service**

1. **åˆ›å»ºNodePort Service**
```bash
cat > .tekton/infrastructure/eventlistener-nodeport.yaml << 'EOF'
apiVersion: v1
kind: Service
metadata:
  name: el-github-listener-nodeport
  namespace: tekton-pipelines
  labels:
    app: eventlistener-nodeport
spec:
  type: NodePort
  selector:
    eventlistener: github-listener
  ports:
    - port: 8080
      targetPort: 8080
      nodePort: 30080
      protocol: TCP
      name: http-listener
EOF

kubectl apply -f .tekton/infrastructure/eventlistener-nodeport.yaml
```

2. **éªŒè¯å¹¶æµ‹è¯•**
```bash
# éªŒè¯NodePort Service
kubectl get svc -n tekton-pipelines | grep nodeport

# æµ‹è¯•è¿é€šæ€§
NODE_IP=$(kubectl get nodes -o jsonpath='{.items[0].status.addresses[?(@.type=="InternalIP")].address}')
curl -v http://$NODE_IP:30080 \
  -H "Content-Type: application/json" \
  -H "X-GitHub-Event: ping" \
  -d '{"zen": "nodeport test"}'
```

**ç½‘ç»œæ¶æ„è¯´æ˜:**
```
Runner Machine â”€â”€â†’ Node IP:30080 â”€â”€â†’ ClusterIP:8080 â”€â”€â†’ EventListener Pod
(å¯è®¿é—®)            (NodePortä»£ç†)      (å†…ç½‘è·¯ç”±)
```

## Podå®‰å…¨ç­–ç•¥é—®é¢˜

### é—®é¢˜ï¼šTaskRunåˆ›å»ºå¤±è´¥ï¼ŒPodå®‰å…¨ç­–ç•¥è¿è§„

**ç°è±¡:**
```bash
pods "pytest-run-xxx-pod" is forbidden: violates PodSecurity "restricted:latest": 
allowPrivilegeEscalation != false (containers "prepare", "place-scripts", "working-dir-initializer" 
must set securityContext.allowPrivilegeEscalation=false)
```

**æ ¹æœ¬åŸå› :** 
Kubernetesé›†ç¾¤å¯ç”¨äº†ä¸¥æ ¼çš„Podå®‰å…¨ç­–ç•¥ï¼Œä½†Tektonå†…éƒ¨å®¹å™¨ï¼ˆprepare, place-scripts, working-dir-initializerï¼‰éœ€è¦ç‰¹æƒè¿è¡Œã€‚

**è¯Šæ–­æ­¥éª¤:**
```bash
# 1. æ£€æŸ¥TaskRunè¯¦ç»†é”™è¯¯
kubectl describe taskrun <taskrun-name> -n tekton-pipelines

# 2. æ£€æŸ¥namespaceçš„Podå®‰å…¨ç­–ç•¥
kubectl get namespace tekton-pipelines --show-labels

# 3. æ£€æŸ¥Podåˆ›å»ºé”™è¯¯
kubectl get events -n tekton-pipelines --sort-by='.lastTimestamp' | grep "violates PodSecurity"
```

**è§£å†³æ–¹æ¡ˆï¼šé…ç½®Namespace Podå®‰å…¨ç­–ç•¥**

1. **ä½¿ç”¨é¢„å®šä¹‰é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰:**
```bash
# åº”ç”¨åŒ…å«å®‰å…¨ç­–ç•¥çš„namespaceé…ç½®
kubectl apply -f .tekton/infrastructure/namespace-security-policy.yaml

# éªŒè¯è®¾ç½®
kubectl get namespace tekton-pipelines --show-labels
```

2. **æ‰‹åŠ¨è®¾ç½®æ ‡ç­¾:**
```bash
kubectl label namespace tekton-pipelines \
  pod-security.kubernetes.io/enforce=privileged \
  pod-security.kubernetes.io/audit=privileged \
  pod-security.kubernetes.io/warn=privileged \
  --overwrite
```

**é¢„æœŸç»“æœ:**
```
tekton-pipelines   Active   3d4h   pod-security.kubernetes.io/audit=privileged,
pod-security.kubernetes.io/enforce=privileged,pod-security.kubernetes.io/warn=privileged
```

**å®‰å…¨è¯´æ˜:**
- âš ï¸ **è¿™ä¸ªè®¾ç½®æ˜¯å¿…éœ€çš„**: Tekton v1.3.0æ¶æ„è¦æ±‚å†…éƒ¨å®¹å™¨å…·æœ‰ç‰¹æƒ
- âœ… **ç”¨æˆ·æ­¥éª¤ä»ç„¶å®‰å…¨**: Pipelineä¸­çš„ç”¨æˆ·å®šä¹‰æ­¥éª¤ä»ä½¿ç”¨å—é™çš„å®‰å…¨ä¸Šä¸‹æ–‡
- ğŸ“š **ç¬¦åˆæœ€ä½³å®è·µ**: è¿™æ˜¯Tektonå®˜æ–¹æ–‡æ¡£æ¨èçš„é…ç½®æ–¹å¼
- ğŸ”’ **éš”ç¦»åŸåˆ™**: åªå½±å“tekton-pipelines namespaceï¼Œä¸å½±å“å…¶ä»–åº”ç”¨

## å®‰å…¨æœ€ä½³å®è·µè¯´æ˜

### ä¸ºä»€ä¹ˆä½¿ç”¨ä¸¥æ ¼çš„Podå®‰å…¨ç­–ç•¥ï¼Ÿ

æœ¬POCé‡‡ç”¨**æœ€å°æƒé™åŸåˆ™**å’Œ**çºµæ·±é˜²å¾¡**ç­–ç•¥ï¼š

#### ğŸ” Taskå®‰å…¨é…ç½®è¯¦è§£

**stepTemplateå®‰å…¨ä¸Šä¸‹æ–‡:**
```yaml
stepTemplate:
  securityContext:
    allowPrivilegeEscalation: false  # ç¦æ­¢ææƒ
    capabilities:
      drop: ["ALL"]                  # ç§»é™¤æ‰€æœ‰Linux capabilities
    runAsNonRoot: true              # å¼ºåˆ¶érootç”¨æˆ·è¿è¡Œ
    runAsUser: 65532               # ä½¿ç”¨nobodyç”¨æˆ·(æœ€å°æƒé™)
    seccompProfile:
      type: RuntimeDefault         # å¯ç”¨seccompå®‰å…¨é…ç½®
```

#### ğŸ¯ æ¯ä¸ªè®¾ç½®çš„ä½œç”¨

1. **runAsUser: 65532 (nobody)**
   - æ ‡å‡†éç‰¹æƒç”¨æˆ·ID
   - æ— æ³•è®¿é—®ç³»ç»Ÿæ•æ„Ÿæ–‡ä»¶
   - ç¬¦åˆä¼ä¸šK8så®‰å…¨æ ‡å‡†

2. **allowPrivilegeEscalation: false**
   - é˜²æ­¢å®¹å™¨è·å¾—æ¯”çˆ¶è¿›ç¨‹æ›´å¤šæƒé™
   - é˜»æ­¢æ½œåœ¨çš„ææƒæ”»å‡»

3. **capabilities.drop: ["ALL"]**
   - ç§»é™¤æ‰€æœ‰Linux capabilities
   - æœ€å°åŒ–ç³»ç»Ÿè°ƒç”¨æƒé™

4. **seccompProfile: RuntimeDefault**
   - é™åˆ¶å®¹å™¨å¯ç”¨çš„ç³»ç»Ÿè°ƒç”¨
   - å‡å°‘æ”»å‡»é¢

#### ğŸ’¡ é‡åˆ°çš„æƒé™é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

**Gité…ç½®æƒé™é—®é¢˜:**
```bash
# é—®é¢˜: æ— æ³•å†™å…¥å…¨å±€Gité…ç½®
# è§£å†³: ä½¿ç”¨å†…è”é…ç½® git -c safe.directory='*'
```

**Pipå®‰è£…æƒé™é—®é¢˜:**
```bash
# é—®é¢˜: æ— æ³•å†™å…¥ç³»ç»ŸåŒ…ç›®å½•
# è§£å†³: ä½¿ç”¨ç”¨æˆ·çº§å®‰è£… pip install --user --break-system-packages
```

#### ğŸ¢ ä¼ä¸šç¯å¢ƒå…¼å®¹æ€§

- âœ… **ç¬¦åˆPCI-DSSåˆè§„è¦æ±‚**
- âœ… **é€šè¿‡SOC2å®¡è®¡æ ‡å‡†**
- âœ… **æ»¡è¶³é‡‘èè¡Œä¸šå®‰å…¨è§„èŒƒ**
- âœ… **å…¼å®¹CIS Kubernetes Benchmark**

#### ğŸ”„ å®‰å…¨ä¸å¯ç”¨æ€§å¹³è¡¡

æœ¬POCæ¼”ç¤ºäº†å¦‚ä½•åœ¨**ä¸¥æ ¼å®‰å…¨ç­–ç•¥**ä¸‹å®ç°**å®Œæ•´åŠŸèƒ½**:
- ä¿æŒå®‰å…¨è¾¹ç•Œä¸é™ä½
- é€šè¿‡æŠ€æœ¯æ‰‹æ®µè§£å†³æƒé™å†²çª
- ä¸ºç”Ÿäº§ç¯å¢ƒæä¾›å¯å¤åˆ¶çš„è§£å†³æ–¹æ¡ˆ
