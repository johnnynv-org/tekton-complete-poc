# 01 - 项目概述

## 项目简介

本项目是一个GitHub Actions + Tekton的POC（概念验证），演示从GitHub代码提交到Tekton执行pytest的完整CI/CD流程。

## 网络拓扑架构

```
┌─────────────────┐    ┌───────────────────┐    ┌─────────────────────┐
│                 │    │                   │    │                     │
│  GitHub Repo    │───▶│  Self-hosted      │───▶│  Kubernetes Cluster │
│  (tekton-poc)   │    │  GitHub Runner    │    │  (with Tekton)      │
│                 │    │ swqa-gh-runner-poc│    │                     │
└─────────────────┘    └───────────────────┘    └─────────────────────┘
         │                       │                         │
         │                       │                         │
    代码推送触发             触发Tekton Pipeline      执行pytest测试
```

## 核心组件

### 1. GitHub Repository
- 包含Python代码和pytest测试
- GitHub Actions workflow配置
- Tekton Pipeline配置文件

### 2. 自宿主GitHub Runner
- 名称：`swqa-gh-runner-poc`
- 运行在能够访问Kubernetes集群的机器上
- 负责接收GitHub webhook并触发Tekton Pipeline

### 3. Kubernetes集群 + Tekton
- **Tekton Pipelines**: 核心流水线引擎
- **Tekton Dashboard**: Web UI界面
  - 访问地址：http://tekton.10.117.3.193.nip.io
  - 用户名：admin
  - 密码：admin123
- **Tekton Triggers**: 用于响应外部事件

## 工作流程

1. **代码提交**: 开发者推送代码到GitHub main分支
2. **触发Actions**: GitHub Actions检测到push事件
3. **运行在自宿主Runner**: workflow在`swqa-gh-runner-poc`上执行
4. **调用Tekton**: GitHub Actions通过kubectl触发Tekton Pipeline
5. **执行测试**: Tekton Pipeline运行pytest测试
6. **结果反馈**: 测试结果通过Pipeline反馈

## 项目结构

```
tekton-poc/
├── .github/
│   └── workflows/           # GitHub Actions配置
├── .tekton/                 # Tekton Pipeline配置
├── src/                     # 源代码
├── tests/                   # pytest测试文件
├── k8s-configs/            # Kubernetes配置文件
├── docs/
│   ├── zh/                 # 中文文档
│   └── en/                 # 英文文档
├── main.py                 # 主程序文件
└── requirements.txt        # Python依赖
```

## 下一步

请按照以下顺序阅读文档：

- [02 - Tekton环境安装](./02-Tekton环境安装.md)
- [03 - 项目代码结构](./03-项目代码结构.md)
- [04 - GitHub Actions配置](./04-GitHub-Actions配置.md)
- [05 - Tekton Pipeline配置](./05-Tekton-Pipeline配置.md)
- [06 - 端到端测试](./06-端到端测试.md)
- [07 - 故障排除](./07-故障排除.md)
